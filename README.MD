# AutoRia Scraper

## –û–ø–∏—Å –≤–∏–∫–æ–Ω–∞–Ω–Ω—è –∑–∞–≤–¥–∞–Ω–Ω—è

**[üîó–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –¢–ó](https://docs.google.com/document/u/0/d/1g4g2s2118ehKZ_GjpqHjcDfSfSzH4Lx2gHv84rPOOr8/mobilebasic)**

### –°—Ç–∞—Ä—Ç–æ–≤–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è

–í –¢–ó –±—É–ª–æ –≤–∫–∞–∑–∞–Ω–µ —Å—Ç–∞—Ä—Ç–æ–≤–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è: [https://auto.ria.com/car/used/](https://auto.ria.com/car/used/)
*(–∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î 10-20 –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ, –∑–∞–¥–∞—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –Ω–µ –º–æ–∂–ª–∏–≤–æ)*.

–ü–µ—Ä–µ–≥–ª—è–Ω—É–≤—à–∏, —è–∫ –ø—Ä–∞—Ü—é—î AutoRia, –º–Ω–æ—é –±—É–ª–æ –≤–∏—Ä—ñ—à–µ–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –ø–æ—Å–∏–ª–∞–Ω–Ω—è:
[https://auto.ria.com/uk/search/](https://auto.ria.com/uk/search/), –æ—Å–∫—ñ–ª—å–∫–∏ –≤–æ–Ω–æ –¥–∞—î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏
query —Ñ—ñ–ª—å—Ç—Ä–∏ –¥–ª—è –ø–æ—à—É–∫—É –∞–≤—Ç–æ —Ç–∞ –≤–∫–∞–∑—É–≤–∞—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ, —â–æ –∑–Ω–∞—á–Ω–æ –ø—Ä–∏—à–≤–∏–¥—à—É—î —Ä–æ–±–æ—Ç—É –ø—Ä–æ–≥—Ä–∞–º–∏. 
–û—Å–∫—ñ–ª—å–∫–∏ –≤–∫–∞–∑–∞–≤—à–∏ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É –∫—ñ–ª—å–∫—ñ—Å—Ç—å *(100)* –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ, –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–æ—Ä—ñ–Ω–æ–∫ —Å—É—Ç—Ç—î–≤–æ(!) –∑–º–µ–Ω—à—É—î—Ç—å—Å—è.

**–û–ø–∏—Å query —Ñ—ñ–ª—å—Ç—Ä—ñ–≤, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏—Ö –¥–ª—è –ø–æ—à—É–∫—É –∞–≤—Ç–æ:**
``` python
filters = {
    "indexName": "auto", # –ë/–£ –∞–≤—Ç–æ–º–æ–±—ñ–ª—ñ
    "sort[0].order": "dates.created.desc", # –°–ø–æ—á–∞—Ç–∫—É –Ω–æ–≤—ñ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è
    "dates.sold.not": "0000-00-00%2000:00:00", # –ü—Ä–∏—Ö–æ–≤–∞—Ç–∏ –ø—Ä–æ–¥–∞–Ω—ñ –∞–≤—Ç–æ
    "size": 100, # –í—ñ–¥–æ–±—Ä–∞–∂–∞—Ç–∏ 100 –µ–ª–µ–º–µ–Ω—Ç—ñ–≤ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ
    "page": 0, # –°—Ç–æ—Ä—ñ–Ω–∫–∞
}
```

### –ü–æ–ª—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

–í –¢–ó –Ω–µ –±—É–ª–æ –≤–∫–∞–∑–∞–Ω–æ, —á–∏ –ø–æ–≤–∏–Ω–Ω—ñ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è –±—É—Ç–∏ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º–∏ –≤ –ë–î, –∞–ª–µ —Ü–µ –Ω–∞—á–µ —î –ª–æ–≥—ñ—á–Ω–∏–º.
–í —ñ–¥–µ–∞–ª—ñ —è –±–∏ –¥–æ–¥–∞–≤ —â–µ –æ–¥–Ω–µ –ø–æ–ª–µ `auto_id`, –æ—Å–∫—ñ–ª—å–∫–∏ –∫–æ–∂–Ω–µ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è –Ω–∞ —Å–∞–π—Ç—ñ –º–∞—î —Å–≤—ñ–π —É–Ω—ñ–∫–∞–ª—å–Ω–∏–π ID, 
–∞–ª–µ —â–æ–± –Ω–µ –¥–æ–¥–∞–≤–∞—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤–µ –ø–æ–ª–µ, —è –∑—Ä–æ–±–∏–≤ —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º –ø–æ—Å–∏–ª–∞–Ω–Ω—è 
*(–∫–æ–∂–Ω–µ –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –∞–≤—Ç–æ —î —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º, –æ—Å–∫—ñ–ª—å–∫–∏ –Ω–∞ –∫—ñ–Ω—Ü—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è —î –≤–∫–∞–∑–∞–Ω–∏–π —Ç–æ–π —Å–∞–º–∏–π auto_id)*.

–¢–æ–±—Ç–æ –ø—Ä–∏ –∫–æ–∂–Ω–æ–º—É –Ω–æ–≤–æ–º—É —Å–∫—Ä–∞–ø—ñ–Ω–≥—É, –≤ –ë–î –¥–æ–¥–∞—é—Ç—Å—å—è –ª–∏—à–µ –Ω–æ–≤—ñ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è, —Å—Ç–∞—Ä—ñ –æ—Å—Ç–∞—é—Ç—å—Å—è –Ω–µ–∑–º—ñ–Ω–Ω–∏–º–∏.
*–í–∏–¥–∞–ª–µ–Ω—ñ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è —Ç–∞–∫–æ–∂ –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—å—Å—è*

–ö–æ–Ω—Ñ–ª—ñ–∫—Ç–Ω—ñ –ø–æ–ª—è:
- `odometer`: `int`, –∞–±–æ `Null`, —è–∫—â–æ –ø—Ä–æ–±—ñ–≥ –Ω–µ –≤–∫–∞–∑–∞–Ω–∏–π *(—Ç–∞–∫, —á–æ–º—É—Å—å –Ω–∞–≤—ñ—Ç—å –ë/–£ –∞–≤—Ç–æ —î –±–µ–∑ –ø—Ä–æ–±—ñ–≥—É)*.
- `username`: `str`, –∞–±–æ `Null`, —è–∫—â–æ —ñ–º º—è –ø—Ä–æ–¥–∞–≤—Ü—è/–Ω–∞–∑–≤–∞ –∫–æ–º–ø–∞–Ω—ñ—è –Ω–µ –≤–∫–∞–∑–∞–Ω–∞.
- `phone_number`: `int` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±—É–ª–∞ –∑–∞—è–≤–ª–µ–Ω–∞ `+38063‚Ä¶‚Ä¶`, –∞–ª–µ –æ—Å–∫—ñ–ª—å–∫–∏ —Ü–µ —á–∏—Å–ª–æ, —Ç–æ –≤ –ë–î –Ω–æ–º–µ—Ä –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –±–µ–∑ `+`.
- `image_url`: `str`, –∞–±–æ `None`, —è–∫—â–æ –≤ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—ñ –Ω–µ–º–∞—î –∂–æ–¥–Ω–æ–≥–æ —Ñ–æ—Ç–æ.
- `car_number`: `str`, –∞–±–æ `None`, —è–∫—â–æ –Ω–æ–º–µ—Ä–Ω–∏–π –∑–Ω–∞–∫ –Ω–µ –≤–∫–∞–∑–∞–Ω–∏–π –≤ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—ñ.
- `car_vin`: `str`, –∞–ª–µ –≤—ñ–Ω —î –Ω–µ —É –≤—Å—ñ—Ö –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è—Ö. –ü—Ä–∏ —Å–∫—Ä–∞–ø—ñ–Ω–≥—É —Ç–∞–∫—ñ –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—å—Å—è 
    *(–Ω–µ –∑–∞–ø–∏—Å—É—é—Ç—Å—å—è –≤ –ë–î)*, –æ—Å–∫—ñ–ª—å–∫–∏ –∑–∞ –º–æ—ó–º–∏ —Å–ø–æ—Å—Ç–µ—Ä–µ–∂–µ–Ω–Ω—è–º–∏ –±–µ–∑ VIN-–Ω–æ–º–µ—Ä—É –≤ –æ—Å–Ω–æ–≤–Ω–æ–º—É –ª–∏—à–µ –π–¥—É—Ç—å –ø—Ä–∏—á—ñ–ø–∏, –∫–∞—Ç–µ—Ä–∏ —Ç–æ—â–æ.

–©–æ —Å—Ç–æ—Å—É—î—Ç—å—Å—è –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω—É –ø—Ä–æ–¥–∞–≤—Ü—è, —Ç–æ –≤—ñ–Ω –æ—Ç—Ä–∏–º—É—î—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ê–ü–Ü –∑–∞–ø–∏—Ç—É —ñ–∑ –ø–µ–≤–Ω–∏–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ 
*(—ó—Ö –º–æ–∂–Ω–∞ –∑–Ω–∞–π—Ç–∏ –≤ HTML –æ–≥–æ–ª–æ—à–µ–Ω–Ω—è)*, 
—Ü–µ–π –∑–∞–ø–∏—Ç —è –≤—ñ–¥—Å–ª—ñ–¥–∫—É–≤–∞–≤ —É –±—Ä–∞—É–∑–µ—Ä—ñ, –∫–æ–ª–∏ –Ω–∞—Ç–∏—Å–∫–∞—î—Ç—å—Å—è –∫–Ω–æ–ø–∫–∞ `–ü–æ–∫–∞–∑–∞—Ç–∏` *(–ø–æ–∫–∞–∑–∞—Ç–∏ –ø–æ–≤–Ω—ñ—Å—Ç—é –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É)*. 
–í –ë–î –∑–∞–ø–∏—Å—É—î—Ç—å—Å—è –ª–∏—à–µ –æ—Å–Ω–æ–≤–Ω–∏–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É, –∞–ª–µ —ó—Ö –±—É–≤–∞—î –¥–µ–∫—ñ–ª—å–∫–∞.

### –ü—ñ–¥—Å—É–º–æ–∫

**–¢–µ—Å—Ç–æ–≤–µ –∑–∞–≤–¥–∞–Ω–Ω—è –≤–∏–∫–æ–Ω–∞–Ω–µ –∑–≥—ñ–¥–Ω–æ —É—Å—ñ—Ö —É–º–æ–≤:**
1. –ü—Ä–æ–≥—Ä–∞–º–∞ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è —â–æ–¥–Ω—è –æ 12:00, –∑–∞—Ö–æ–¥–∏—Ç—å —É –∫–∞—Ä—Ç–æ—á–∫—É –∫–æ–∂–Ω–æ–≥–æ –ë/–£ –∞–≤—Ç–æ —Ç–∞ –∑–∞–ø–∏—Å—É—î –π–æ–≥–æ –≤ –ë–î - `PostgreSQL`.
2. –ü—Ä–æ–≥—Ä–∞–º–∞ —â–æ–¥–Ω—è –æ 00:00 –≤–∏–∫–æ–Ω—É—î –¥–∞–º–ø –ë–î —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—î –π–æ–≥–æ –¥–æ –∫–∞—Ç–∞–ª–æ–≥—É `/dumps`.
3. –ü—Ä–æ–≥—Ä–∞–º–∞ —Ç–∞ –±–∞–∑–∞ –¥–∞–Ω–∏—Ö —Ä–æ–∑–≥–æ—Ä—Ç–∞—é—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é `docker-compose`.

–ó–≤–∏—á–∞–π–Ω–æ, –º–æ–∂–Ω–∞ –±—É–ª–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ `Selenium`, —Ç–∞ –æ—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É –∑–≤–∏—á–∞–π–Ω–∏–º "–∫–ª—ñ–∫–æ–º" –ø–æ –∫–Ω–æ–ø—Ü—ñ, 
–∞–ª–µ —Ç–æ–¥—ñ –¥–æ–≤–µ–ª–æ—Å—å –±–∏ –ø–æ–∂–µ—Ä—Ç–≤—É–≤–∞—Ç–∏ —à–≤–∏–¥–∫—ñ—Å—Ç—é —Ä–æ–±–æ—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–∏:)
